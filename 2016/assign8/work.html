<html>
    <head>
        <title>CongressAPI</title>
        <!-- Angular JS-->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
        <script src="js/dirPagination.js"></script>
        <script src="js/script.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta charset="utf-8">
        <link href="css/sidebar.css" rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ngStorage/0.3.6/ngStorage.min.js"></script>  
    </head>
    <body ng-app="myApp">
        <div class="container-fluid page-content-wrapper" ng-controller="general">
            <div class="container-fluid page-content-wrapper" id="l" style="padding-left:0px; position:absolute; padding-top:0px; margin-top:0px;">
                <div class="row">
                    <div class="col-lg-12">
                        <h3 id="head" style="border-bottom: 1px solid black; padding-bottom:10px;  margin-bottom:15px; ">Legislatures</h3>
                        <div id="myCarousel" class="carousel slide" data-interval="false" style="box-shadow:0 0 5px #808080;">
                            <div class="carousel-inner" role="listbox">
                                <div class="item active" style="margin-bottom:-20px;">
                                    <div id="data1" class="panel panel-default" style="padding-bottom:15px; box-shadow:0 0 5px #808080; height:100%;">
                                        <div style="padding-bottom:0.5px; ">
                                            <ul class="nav nav-tabs">
                                                <li class="active" style="border-bottom:1px thin #dedede; margin-bottom:0.1px;"><a class="tabed" data-toggle="tab" href="#bystate">By state</a></li>
                                                <li style="border-bottom:1px solid #dedede;"><a class="tabed" data-toggle="tab" href="#house" >House </a></li>
                                                <li style="border-bottom:1px solid #dedede;"><a class="tabed" data-toggle="tab" href="#senate">Senate</a></li>
                                            </ul>
                                        </div>

                                        <div class="tab-content container-fluid" >
                                            <div id="bystate" class="tab-pane active tablecontaindiv" >
                                                <div class="panel pane-default">
                                                    <div class="panel-heading panelhead">
                                                        <div class="row">
                                                            <div style="float:left; display:inline; margin-left:10px;">Legislators By State</div>
                                                            <div style="display:inline; float:right; margin-right:10px;">
                                                                <select class="btn" style="border:1px solid lightgray;" ng-model="statenames1" ng-options="a for a in item">
                                                                    <option value="">All states</option>
                                                                </select>
                                                            </div>    
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="table-responsive tabledivs">
                                                    <table class="table tabledisp">
                                                        <thead>
                                                            <tr>
                                                                <th>Party</th>
                                                                <th>Name </th>
                                                                <th>Chamber	</th>
                                                                <th>District</th>
                                                                <th>State</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr  dir-paginate="x in total | filter:statenames1 | orderBy: ['state_name','last_name'] | itemsPerPage:10" pagination-id="state">
                                                                <td>
                                                                    <div ng-if= " x.party == 'D'">
                                                                        <img src="http://cs-server.usc.edu:45678/hw/hw8/images/d.png" width="20" height="20">
                                                                    </div>
                                                                    <div ng-if="x.party == 'R'">
                                                                        <img src="http://cs-server.usc.edu:45678/hw/hw8/images/r.png" width="20" height="20">
                                                                    </div>
                                                                    <div ng-if="x.party == 'I'">
                                                                        <img src="http://independentamericanparty.org/wp-content/themes/v/images/logo-american-heritage-academy.png" width="20" height="20">
                                                                    </div>
                                                                </td>
                                                                <td>{{x.last_name + ", " + x.first_name}}</td>
                                                                <td>
                                                                    <div ng-if="x.chamber == 'house'" style="text-transform:capitalize;" >
                                                                        <img src="http://cs-server.usc.edu:45678/hw/hw8/images/h.png" width="20" height="20">{{x.chamber}}
                                                                    </div>
                                                                    <div ng-if="x.chamber == 'senate'" style="text-transform:capitalize;">
                                                                        <img src="http://cs-server.usc.edu:45678/hw/hw8/images/s.svg" width="20" height="20">{{x.chamber}}
                                                                    </div>
                                                                </td>
                                                                <td>{{x.district!=null ? "District "+x.district: "N.A"}}</td>
                                                                <td>{{x.state_name}}</td>
                                                                <td align="center"><button type="button" href="#myCarousel" class="btn btn-primary" style="height:25px; width:120px; padding:0px;" ng-click="myFunction(x.bioguide_id)" data-slide="next">View Details</button></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                                <center style="margin-top:-15px;" >
                                                    <dir-pagination-controls max-size="10" boundary-links="true" direction-links="true" pagination-id="state"></dir-pagination-controls>
                                                </center>
                                            </div>
                                            <div id="house" class="tab-pane tablecontaindiv" >
                                                <div class="panel pane-default">
                                                    <div class="panel-heading panelhead">
                                                        <div class="row">
                                                            <div style="float:left; display:inline; margin-left:10px;">Legislators By House</div>
                                                            <div style="float:right; display:inline; margin-right:10px;">
                                                                <input type="text" class="form-control" placeholder="Search" ng-model="statenames2" style="max-width:130px; display:inline; float:left;">
                                                            </div>    
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="table-responsive tabledivs">
                                                    <table class="table tabledisp">
                                                        <thead>
                                                            <tr>
                                                                <th>Party</th>
                                                                <th>Name </th>
                                                                <th>Chamber	</th>
                                                                <th>District</th>
                                                                <th>State</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr  dir-paginate="y in hos | filter:statenames2 | orderBy: 'last_name' | itemsPerPage:10"  pagination-id="chamber">
                                                                <td>
                                                                    <div ng-if= " y.party == 'D'">
                                                                        <img src="http://cs-server.usc.edu:45678/hw/hw8/images/d.png" width=20 height=20>
                                                                    </div>
                                                                    <div ng-if="y.party == 'R'">
                                                                        <img src="http://cs-server.usc.edu:45678/hw/hw8/images/r.png" width=20 height=20>
                                                                    </div>
                                                                    <div ng-if="y.party == 'I'">
                                                                        <img src="http://independentamericanparty.org/wp-content/themes/v/images/logo-american-heritage-academy.png" width=20 height=20>
                                                                    </div>
                                                                </td>
                                                                <td>{{y.last_name + ", " + y.first_name}}</td>
                                                                <td>
                                                                    <div ng-if="y.chamber == 'house'" style="text-transform:capitalize;">
                                                                        <img src="http://cs-server.usc.edu:45678/hw/hw8/images/h.png" width=20 height=20>{{y.chamber}}
                                                                    </div>
                                                                </td>
                                                                <td>{{y.district ? "District "+y.district: "N.A"}}</td>
                                                                <td>{{y.state_name}}</td>
                                                                <td align="center"><button type="button" href="#myCarousel" class="btn btn-primary" ng-click="myFunction(y.bioguide_id)"  style="height:25px; width:120px; padding:0px;" data-slide="next">View Details</button></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                                <center>
                                                    <dir-pagination-controls max-size="10" boundary-links="true" direction-links="true" pagination-id="chamber"></dir-pagination-controls>
                                                </center>
                                            </div>
                                            <div id="senate" class="tab-pane tablecontaindiv" >
                                                <div class="panel pane-default">
                                                    <div class="panel-heading panelhead">
                                                        <div class="row">
                                                            <div style="float:left; display:inline; margin-left:10px;">Legislators By Senate</div>
                                                            <div style="float:right; display:inline; margin-right:10px;">
                                                                <input type="text" class="form-control" placeholder="Search" ng-model="statenames3" style="max-width:130px; display:inline; float:left;">
                                                            </div>    
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="table-responsive tabledivs">
                                                    <table class="table tabledisp">
                                                        <thead>
                                                            <tr>
                                                                <th>Party</th>
                                                                <th>Name </th>
                                                                <th>Chamber	</th>
                                                                <th>State</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr  dir-paginate="y in sen | filter:statenames3 | orderBy: 'last_name' | itemsPerPage:10"  pagination-id="senate">
                                                                <td>
                                                                    <div ng-if= " y.party == 'D'">
                                                                        <img src="http://cs-server.usc.edu:45678/hw/hw8/images/d.png" width=20 height=20>
                                                                    </div>
                                                                    <div ng-if="y.party == 'R'">
                                                                        <img src="http://cs-server.usc.edu:45678/hw/hw8/images/r.png" width=20 height=20>
                                                                    </div>
                                                                    <div ng-if="y.party == 'I'">
                                                                        <img src="http://independentamericanparty.org/wp-content/themes/v/images/logo-american-heritage-academy.png" width=20 height=20>
                                                                    </div>
                                                                </td>
                                                                <td>{{y.last_name + ", " + y.first_name}}</td>
                                                                <td>
                                                                    <div ng-if="y.chamber == 'senate'" style="text-transform:capitalize;">
                                                                        <img src="http://cs-server.usc.edu:45678/hw/hw8/images/s.svg" width=20 height=20>{{y.chamber}}
                                                                    </div>
                                                                </td>
                                                                <td>{{y.state_name}}</td>
                                                                <td align="center"><a href="#myCarousel" class="btn btn-primary" ng-click="myFunction(y.bioguide_id)"  style="width:120px; padding:0px;" data-slide="next">View Details</a></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                                <center>
                                                    <dir-pagination-controls max-size="10" boundary-links="true" direction-links="true" pagination-id="senate"></dir-pagination-controls>
                                                </center>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="item" id="legislator" ng-repeat="x in det" style="background-color:white;">
                                    <div class="row container-fluid">
                                        <div class="container-fluid" style="background-color:white;padding-left:20px; margin-top:10px;">
                                            <span class="col-sm-11">
                                                <a class="btn btn-default" href="#myCarousel" role="button" data-slide="prev">
                                                    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                                                </a>
                                                Details
                                            </span>
                                            <span class="col=sm-1" ng-click="save('legislator', x)">
                                                <a class="btn btn-default" role="button" ><span id="lstar" ng-init="startwinkle(x)" class="fa fa-star-o" aria-hidden="true" ></span></a><br/>
                                            </span>
                                        </div>
                                        <div class="container-fluid table-responsive" style="background-color:white;">
                                            <div class="col-sm-5 container" style="height:100%; display:inline; float:left;">
                                                <div style="display:inline">
                                                    <div style="float:left;">
                                                        <table class="container-fluid  table" style="width:100%; font-size:15px; width:100%; margin-left:0px;">
                                                            <thead></thead>
                                                            <tbody>
                                                             
                                                                <tr>
                                                                    <td>
                                                                        <a href="mailto:{{x.oc_email}}">{{x.oc_email}}</a>
                                                                    </td>
                                                                </tr>
                                                                
                                                                <tr>
                                                                    <td class="hidden-xs">Contact: <a href="tel:{{x.phone}}">{{x.phone}}</a></td>
                                                                </tr>
                                                                
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                                <table ng-repeat="t in det" class="container-fluid table" style="width:100%; font-size:15px;  border-collapse: collapse;">
                                                    <thead></thead>
                                                    <tbody>
                                                       
                                                       
                                                        <tr>
                                                            <td class="hidden-xs">Fax</td>
                                                            <td ng-if="t.fax != null" style="color:blue;"><a href="">{{t.fax!=null? t.fax:"N.A"}}</a></td>
                                                            
                                                        </tr>
                                                        
                                                        <tr>
                                                            <td class="hidden-xs">Social Links</td>
                                                            <td>
                                                                <div ng-if="x.twitter_id != null" style="display:inline;"><a href="http://twitter.com/{{t.twitter_id}}"><img src='http://cs-server.usc.edu:45678/hw/hw8/images/t.png' width="40" height="40"></a></div>
                                                                <div ng-if="x.facebook_id !=null" style="display:inline;"><a href="http://facebook.com/{{t.facebook_id}}"><img src='http://cs-server.usc.edu:45678/hw/hw8/images/f.png' width="40" height="40"></a></div>
                                                                <div ng-if="x.website !=null" style="display:inline;"><a href="{{t.website}}"><img src='http://cs-server.usc.edu:45678/hw/hw8/images/w.png' width="40" height="40"></a></div>
                                                                
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </body>
        </html>